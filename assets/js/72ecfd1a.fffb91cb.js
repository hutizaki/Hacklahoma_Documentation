"use strict";(globalThis.webpackChunkhacklahoma_documentation=globalThis.webpackChunkhacklahoma_documentation||[]).push([[8160],{3455:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>d,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"onboarding/dev-pipeline/docker","title":"Docker","description":"<img","source":"@site/docs/onboarding/dev-pipeline/docker.md","sourceDirName":"onboarding/dev-pipeline","slug":"/onboarding/dev-pipeline/docker","permalink":"/Hacklahoma_Documentation/docs/onboarding/dev-pipeline/docker","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/onboarding/dev-pipeline/docker.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Dev Pipeline","permalink":"/Hacklahoma_Documentation/docs/onboarding/dev-pipeline/intro"},"next":{"title":"Format & Linter","permalink":"/Hacklahoma_Documentation/docs/onboarding/dev-pipeline/format-linter"}}');var o=r(4848),t=r(8453),i=r(6025);const d={sidebar_position:2},a="Docker",c={},l=[{value:"What Docker Does in Our Pipeline",id:"what-docker-does-in-our-pipeline",level:2},{value:"LAN-HTTPS Development",id:"lan-https-development",level:2},{value:"MongoDB",id:"mongodb",level:2},{value:"Mongo Express",id:"mongo-express",level:2},{value:"Backend",id:"backend",level:2},{value:"Proxy",id:"proxy",level:2},{value:"Summary",id:"summary",level:2}];function h(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"docker",children:"Docker"})}),"\n",(0,o.jsx)("img",{src:(0,i.Ay)("/img/dockerLogo.png"),alt:"Docker logo",style:{borderRadius:"24px",overflow:"hidden"}}),"\n",(0,o.jsxs)(n.p,{children:["Docker is the ",(0,o.jsx)(n.strong,{children:"Building"})," phase of the ",(0,o.jsx)(n.a,{href:"../intro",children:"dev pipeline"}),". The pipeline builds and runs services in containers so that linting, tests, and deployment all use the same environment. This page covers how we use Docker locally and in CI."]}),"\n",(0,o.jsx)(n.h2,{id:"what-docker-does-in-our-pipeline",children:"What Docker Does in Our Pipeline"}),"\n",(0,o.jsxs)(n.p,{children:["When you open a pull request, the pipeline runs a ",(0,o.jsx)(n.strong,{children:"build"})," step. That step uses Docker to build the app and run services in a consistent way. If the build fails, the pipeline stops and the PR cannot merge. Locally, we use Docker to run the same backend services so your machine matches what the pipeline and production use."]}),"\n",(0,o.jsx)(n.h2,{id:"lan-https-development",children:"LAN-HTTPS Development"}),"\n",(0,o.jsxs)(n.p,{children:["Development is usually done with the ",(0,o.jsx)(n.code,{children:"LAN-HTTPS"})," setup: the ",(0,o.jsx)(n.strong,{children:"front end is ran outside of Docker"})," so you get live updates while coding. The rest of the stack (database, backend, proxy) runs in Docker."]}),"\n",(0,o.jsx)("img",{src:(0,i.Ay)("/img/dockerScreenshot.png"),alt:"Docker Compose services running: MongoDB, Mongo Express, Backend, Proxy",style:{borderRadius:"8px",overflow:"hidden",maxWidth:"100%",height:"auto"}}),"\n",(0,o.jsx)(n.p,{children:"In the screenshot above, the services running in Docker are:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"MongoDB"})," \u2013 database"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Mongo Express"})," \u2013 database UI"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Backend"})," \u2013 API server"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Proxy"})," \u2013 reverse proxy / gateway"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"mongodb",children:"MongoDB"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"MongoDB"})," is the primary database. It runs in a container so everyone uses the same version and configuration. The app stores and reads data (users, content, etc.) through the backend, which talks to MongoDB. Keeping it in Docker keeps the database portable and consistent across dev, CI, and production-like setups."]}),"\n",(0,o.jsx)(n.h2,{id:"mongo-express",children:"Mongo Express"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Mongo Express"})," is a ",(0,o.jsx)(n.strong,{children:"web app"})," that runs inside Docker\u2014you don\u2019t download or install it on your machine. When your Docker stack is running, you open it ",(0,o.jsx)(n.strong,{children:"in your browser"})," at a URL (for example ",(0,o.jsx)(n.code,{children:"http://localhost:8081"}),", or whatever port your project uses). There you can browse collections, view documents, and edit data. It\u2019s like phpMyAdmin but for MongoDB: a separate UI that talks to the database. Use it during development to inspect or fix data; it\u2019s not used in production."]}),"\n",(0,o.jsx)(n.h2,{id:"backend",children:"Backend"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"Backend"})," container runs the API server (e.g. Node/Express or your stack\u2019s backend). It connects to MongoDB and other services. Building and running it in Docker ensures the same runtime and dependencies as in the pipeline and makes it easy to start the whole stack with one command (e.g. ",(0,o.jsx)(n.code,{children:"docker compose up"}),")."]}),"\n",(0,o.jsx)(n.h2,{id:"proxy",children:"Proxy"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"Proxy"})," container runs a ",(0,o.jsx)(n.strong,{children:"reverse proxy"}),": one entry point that sends requests to the right service (frontend, backend, etc.). We use ",(0,o.jsx)(n.strong,{children:"Caddy"}),", a web server that handles HTTPS easily."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Why use a proxy?"}),(0,o.jsx)(n.br,{}),"\n","Without it, the frontend and API live at different URLs, which can cause ",(0,o.jsx)(n.strong,{children:"CORS"})," and ",(0,o.jsx)(n.strong,{children:"cookie"})," issues (e.g. when testing from your phone on Wi\u2011Fi). The proxy gives you ",(0,o.jsx)(n.strong,{children:"one URL"})," (e.g. ",(0,o.jsx)(n.code,{children:"https://192.168.0.94:8443"}),"): it serves the frontend at ",(0,o.jsx)(n.code,{children:"/"})," and forwards ",(0,o.jsx)(n.code,{children:"/api"})," to the backend so the browser sees a single origin."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"What are certificates (certs)?"}),(0,o.jsx)(n.br,{}),"\n",(0,o.jsx)(n.strong,{children:"Certificates"})," let the browser use ",(0,o.jsx)(n.strong,{children:"HTTPS"})," (encrypted traffic). For LAN-HTTPS we put cert files in ",(0,o.jsx)(n.code,{children:"config/certs/"})," (e.g. ",(0,o.jsx)(n.code,{children:"cert.pem"}),", ",(0,o.jsx)(n.code,{children:"key.pem"}),"), often created with ",(0,o.jsx)(n.strong,{children:"mkcert"})," so your machine and browser trust them locally. Caddy uses those certs and listens on HTTPS (e.g. port ",(0,o.jsx)(n.strong,{children:"8443"}),"), so you can open ",(0,o.jsx)(n.code,{children:"https://<your-lan-ip>:8443"})," from a laptop or phone without mixed-content warnings."]}),"\n",(0,o.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Service"}),(0,o.jsx)(n.th,{children:"Role in Docker"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"MongoDB"})}),(0,o.jsx)(n.td,{children:"Primary database; same version and config for everyone."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Mongo Express"})}),(0,o.jsx)(n.td,{children:"Web UI for viewing/editing MongoDB in dev."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Backend"})}),(0,o.jsx)(n.td,{children:"API server; built and run in a container for consistency."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Proxy"})}),(0,o.jsx)(n.td,{children:"Reverse proxy for routing and HTTPS in the dev stack."})]})]})]}),"\n",(0,o.jsxs)(n.p,{children:["The front end is intentionally run ",(0,o.jsx)(n.strong,{children:"outside"})," Docker in LAN-HTTPS so you get live reloads. For the full flow (lint \u2192 build \u2192 test \u2192 deploy), see the ",(0,o.jsx)(n.a,{href:"../intro",children:"Dev Pipeline intro"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>d});var s=r(6540);const o={},t=s.createContext(o);function i(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);